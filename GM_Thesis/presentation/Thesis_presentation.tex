\documentclass[hyperref={pdfpagelabels=false}]{beamer}
\usepackage{lmodern}
\usepackage{graphicx}          	% add graphics
\usepackage{tikz,pgfplots}
\usepackage{gincltex}
\usepackage{epstopdf}
\usepackage{enumerate}		% lists of items
\usepackage[linesnumbered,lined,boxed,ruled,commentsnumbered]{algorithm2e}
\usepackage{setspace}
\usepackage{listings}		% code listings
\usepackage[backend=biber]{biblatex}
\addbibresource{presentation.bib}




\usetheme{Dresden}
\setbeamerfont{subsection in toc}{size=\small}
\setbeamertemplate{blocks}[rounded][shadow=false]


\title{Scaling Geometric Monitoring Over Distributed Streams}  
\author{Alexandros D. Keros} 
\date{June 23, 2016} 
\addtobeamertemplate{title page}{}{\begin{center}\small Supervised by: Prof. V.Samoladas\end{center}}

\begin{document}

\begin{frame}
\titlepage
\end{frame} 


\begin{frame}
\frametitle{Table of contents}
\tableofcontents
\end{frame} 

%%%%%%%%%%%%%  section: INTRODUCTION  %%%%%%%%%%%%%%%%%%%%%%%
\section{Introduction}
\begin{frame}
  \tableofcontents[currentsection]
 \end{frame}
 
\subsection*{Overview}
\begin{frame} \frametitle{Data Stream Systems}%\footfullcite{Babcock2002DataStreamSystems}}
\begin{itemize}
\item \textbf{Data streams}: Continuous, high volume, size unbound, violative, probably distributed
\item \emph{Pull paradigm}
\item Centralizing and/or polling $\rightarrow$ prohibitive in terms of communication overhead
\item Examples: telecommunication, sensor networks 
\end{itemize}
\end{frame}

\begin{frame} \frametitle{The Geometric Monitoring Method}%\footfullcite{Sharfman2006GM}}
\begin{itemize}
\item Threshold monitoring
\item Nodes communicate when needed
	\begin{itemize}
	\item Local constraints
	\item Violation resolution (\emph{false alarms})
	\end{itemize}
\item Arbitrary function monitoring
\item Tight accuracy bounds
\item A promising framework for \emph{distributed data stream monitoring}
\end{itemize}
\end{frame}

\begin{frame} \frametitle{Motivation}
\setbeamercovered{transparent}
\begin{itemize}
\item[]<1-> Problems:
\begin{itemize}
	\item<1-> increasing node population
	\item<1-> data volume
	\item<1-> data dimensionality
	\item<1-> arbitrary functions
	\item<2-> \textbf{communication - accuracy tradeoff}
\end{itemize}
\item[]<3->Need for:
\begin{itemize}
	\item<3-> scalability warranties
	\item<3-> tight accuracy bounds
	\item<3-> incremental/real-time operation
	\item<4-> \textbf{Minimize communication while retaining accuracy bounds}
\end{itemize}
\end{itemize}
\end{frame}

\begin{frame} \frametitle{Contributions}
\setbeamercovered{transparent}
Expand the \emph{geometric monitoring method}:
\begin{itemize}
\item<1-> heuristic method for violation resolution
\item<2-> distance-based hierarchical node clustering%\footfullcite{Keren2014GMHetStreams}
\item<3-> throughout method evaluation on synthetic and real-world datasets
\end{itemize}
\end{frame}

%%%%%%%%%%%%%  section: THEOR BACK  %%%%%%%%%%%%%%%%%%%%%%%
\section{Theoretical Background}
\begin{frame}
  \tableofcontents[currentsection]
 \end{frame}
\subsection{The Geometric Monitoring Method}
\begin{frame} \frametitle{Geometric Threshold Monitoring}
\begin{itemize}
%\item \fullcite{Sharfman2006GM}
\item \textbf{Threshold monitoring}: arbitrary function $f(\cdot)$, threshold $T$\\
 $$f(\cdot)<T\ \text{or}\ f(\cdot)>T$$
\item \textbf{Idea}: decompose into local constraints at the nodes
\end{itemize}
\end{frame}

\begin{frame} \frametitle{System Architecture} \framesubtitle{Decentralized Scenario}
\begin{figure}[H]
\centering
\vspace{-0.2cm}
\includegraphics[scale=0.5]{../img/decentralized.tex}
\caption{\textbf{Mesh-like network topology} example of the decentralized scenario. Dashed lines represent data streams and half arrows represent message exchanges.} 
\end{figure}
\end{frame}

\begin{frame} \frametitle{System Architecture} \framesubtitle{Centralized Scenario}
\begin{figure}[H]
\centering
\vspace{-1cm}
\includegraphics[scale=0.5]{../img/centralized.tex}
\caption{\textbf{Star-like network topology} example of the centralized scenario.The bold node represents the coordinator node. Dashed lines represent data streams and half arrows represent message exchanges.} 
\end{figure}
\end{frame}

\begin{frame} \frametitle{Computational Model}\framesubtitle{Statistics vectors}
\setbeamercolor{block title}{use=structure,fg=white,bg=blue!55!black}
\setbeamercolor{block body}{use=structure,fg=black,bg=blue!5!white}

\begin{itemize}
\item the \emph{monitoring function} $f:\mathbb{R}^d \to \mathbb{R}$
\item the \emph{threshold} $T \in \mathbb{R}$
\item the \emph{monitoring node set} : $P=\{p_1, \dots, p_n\}$\\\quad with \emph{weights} $w_1, \dots, w_n$
\item the \emph{data streams} : $S=\{s_1, \dots, s_n\}$
\item the $d$-dimensional \emph{local statistics vectors} : $\vec{v_1}(t), \dots, \vec{v_n}(t)$\\\quad represent each node's data stream at time $t$
\end{itemize}
\begin{block}{Global statistics vector}
\vspace{0.2cm}
\begin{equation}
\vec{v}(t)=\frac{\sum_{i=1}^n{w_i\vec{v_i}(t)}}{\sum_{i=1}^n{w_i}}
\label{form:globalStatsVector}
\end{equation}
\vspace{0.2cm}
\end{block}
\end{frame}

\begin{frame} \frametitle{Computational Model}\framesubtitle{Estimate vector}
\setbeamercolor{block title}{use=structure,fg=white,bg=blue!55!black}
\setbeamercolor{block body}{use=structure,fg=black,bg=blue!5!white}
Infrequent communication between nodes/nodes-coordinator:
\begin{block}{Estimate vector}
\begin{equation}
\vec{e}(t)=\frac{\sum_{i=1}^n {w_i \vec{v_i}'}}{\sum_{i=1}^n {w_i}}
\label{form:estimateVector}
\end{equation}
\end{block}
\begin{itemize}
\item the last communicated \emph{local statistics vector} of node $p_i$ : $\vec{v_i}'$
\item \emph{Local statistics} divergence:$\Delta \vec{v_i}(t)=\vec{v_i}(t)-\vec{v_i}', i=1,\dots,n$
\end{itemize}
\begin{columns}
\setbeamercolor{block title}{use=structure,fg=blue,bg=blue!15!white}
\setbeamercolor{block body}{use=structure,fg=black,bg=blue!5!white}
\begin{column}[t]{0.5\textwidth}
\begin{block}{Decentralized drift vector}
\vspace{-0.3cm}
\begin{equation}
\vec{u_i}(t)=\vec{e}(t)+\Delta \vec{v_i}(t)
\label{form:decentralizedDrift}
\end{equation}
\end{block}
\end{column}
\begin{column}[t]{0.5\textwidth}
\begin{block}{Centralized drift vector}
\vspace{-0.45cm}
\begin{equation}
\vec{u_i}(t)=\vec{e}(t)+\Delta \vec{v_i}(t)+\frac{\vec{\delta_i}}{w_i}
\label{form:centralizedDrift}
\end{equation} 
\end{block}
\end{column}
\end{columns}
\end{frame}

\begin{frame} \frametitle{Computational Model}\framesubtitle{Balancing Process}
\setbeamercolor{block title}{use=structure,fg=white,bg=blue!55!black}
\setbeamercolor{block body}{use=structure,fg=black,bg=blue!5!white}
\begin{itemize}
\item[] \textbf{Centralized scenario}
\item[] \textbf{Purpose}: resolve possible false alarms
\item[]
\begin{block}{Balancing vector}
\begin{equation}
\vec{b}=\frac{ \sum_{p_i \in P'} {w_i\vec{u_i}(t)} }{ \sum_{p_i \in P'} {w_i} }
\label{form:balancingVector}
\end{equation}
\end{block}
\begin{itemize}
	\item the \emph{balancing set} $P'$: a subset of nodes
	\item the \emph{slack vector} at the nodes $\vec{\delta_i}=\vec{\delta_i}'+\Delta\vec{\delta_i}$, $\sum_{p_i \in P'} \Delta \vec{\delta_i}= \vec{0}$:
\end{itemize}
\begin{equation}
\Delta\vec{\delta_i}=w_i\vec{b}-w_i\vec{u_i}(t)\ \forall\ p_i \in P'
\end{equation}
, readjusts the \emph{drift vectors}~\eqref{form:centralizedDrift}.
\end{itemize}
\end{frame}

\begin{frame} \frametitle{Geometric Interpretation}\framesubtitle{Convexity Property}
\begin{block}{Convexity Property}
\begin{equation}
\vec{v}(t)=\frac{\sum_{i=1}^n {w_i\vec{u_i}(t)}}{\sum_{i=1}^n {w_i}}
\label{form:convexityProperty}
\end{equation}
\end{block}
\begin{theorem}[Sharfman et al.~\cite{Sharfman2006GM}]\label{theorem:convexHull}
Let $\vec{x}, \vec{y_1}, \dots, \vec{y_n} \in \mathbb{R}^d$ be a set of vectors in $\mathbb{R}^d$. Let $Conv(\vec{x}, \vec{y_1}, \dots, \vec{y_n})$ be the convex hull of $\vec{x}, \vec{y_1}, \dots, \vec{y_n}$. Let $B(\vec{x}, \vec{y_i})$ be a ball centered at $\frac{\vec{x}+\vec{y_i}}{2}$ and with radius of $\lVert{\frac{\vec{x}+\vec{y_i}}{2}}\rVert_2$ i.e., $B(\vec{x}, \vec{y_i})=\{\vec{z}\ |\ \lVert{\vec{z}-\frac{\vec{x}+\vec{y_i}}{2}}\rVert_2 \leq \lVert{\frac{\vec{x}+\vec{y_i}}{2}}\rVert_2 \}$, then $Conv(vec{x}, \vec{y_1}, \dots, \vec{y_n}) \subset B(\vec{x}, \vec{y_i})$.
\end{theorem}
\end{frame}

\begin{frame} \frametitle{Geometric Interpretation}\framesubtitle{Convexity Property \& Local Constraints}
\begin{figure}[H]
\begin{columns}
\begin{column}[t]{0.35\textwidth}
\vspace{-6.1cm}
\caption{Example of a convex hull (light gray) defined by the drift vectors $\vec{u_i}, i=1,2,3,4,5$. The hull is bounded by the spheres created from the estimate vector $\vec{e}$ and the drift vectors $\vec{u_i}, i=1,2,3,4,5$. The global statistics vector $\vec{v}$ is guaranteed to be contained in the convex hull of the drift vectors.} 
\end{column}
\begin{column}[t]{0.65\textwidth}
\vspace{-4cm}
\includegraphics[scale=0.35, trim=0 0 4.2cm 0]{../img/convex_hull.tex}
\end{column}
\end{columns}
\label{fig:convexHull}
\end{figure}
\end{frame}

\begin{frame}[plain] \frametitle{Protocol}\framesubtitle{Decentralized Algorithm}

\hfill    \scalebox{0.50}{
    \begin{minipage}{\linewidth}
\vspace{-2cm}    
    \begin{algorithm}[H]
\setstretch{1.30}


\Begin{
	\ForEach(\tcc*[f]{Node initialization}){node $p_i$}{
		Broadcast $\vec{v_i}(0)$\;
		$\vec{v_i}'=\vec{v_i}(0)$\;
		Wait messages from all other nodes\;
		\If{messages from all vectors received}{
			$\vec{e}(t)=\frac{\sum_{i=1}^n {w_i \vec{v_i}'}}{\sum_{i=1}^n {w_i}}$\;
		}
	}

	\ForEach(\tcc*[f]{Main monitoring task}){node $p_i$}{
		\ForEach{new $s_i$ stream update $\vec{v_i}(t)$}{
			Recalculate $\vec{u_i}(t)=\vec{e}(t)+\Delta \vec{v_i}(t)$\;
			\If{$B(\vec{e},\vec{u_i}(t))$ is \emph{not} monochromatic}{
				Broadcast message $<i,\vec{v_i}(t)>$\;
				Set $\vec{v_i}'=\vec{v_i}(t)$\;
			}
		

			\If{new message $<j,\vec{v_j}(t)>$ received}{
				Set $\vec{v_j}'=\vec{v_j}(t)$\;
				Recalculate $\vec{e}(t)=\frac{\sum_{i=1}^n {w_i \vec{v_i}'}}{\sum_{i=1}^n {w_i}}$\;
				\If{$B(\vec{e},\vec{u_i}(t))$ is \emph{not} monochromatic}{
					Broadcast message $<i,\vec{v_i}(t)>$\;
					Set $\vec{v_i}'=\vec{v_i}(t)$\;
				}
			}
		}

	}
}
\caption{Decentralized algorithm \label{algo:decentralized}} 
\end{algorithm}  
\end{minipage}%
    }
\end{frame}


\begin{frame}[plain] \frametitle{Protocol}\framesubtitle{Centralized Algorithm}
\begin{columns}
\begin{column}{.8\linewidth}

\scalebox{0.43}{
\begin{algorithm}[H]

\setstretch{1.30}

\SetKwFunction{Balance}{Balance}
\SetKwProg{Fn}{Function}{}{end}

\Begin{
	
	Wait for $<INIT, \cdot>$ messages from all monitoring nodes\tcc*[r]{Initialization}
	$\vec{e}(0)=\frac{\sum_{i=1}^n {w_i \vec{v_i}(0)}}{\sum_{i=1}^n {w_i}}$\;

	\If(\tcc*[f]{Monitoring operation}){new $<REP,\vec{v_i}(t),\vec{u_i}(t)>$ message received}{
		$P'=P' \cup \{<i,\vec{v_i}(t),\vec{u_i}(t)>\}$\;
		\Balance{$P'$}\;
	}
}

\Fn(\tcc*[f]{Balancing Process}){\Balance{$P'$}}{
	$\vec{b}=\frac{ \sum_{p_i \in P'} {w_i\vec{u_i}(t)} }{ \sum_{p_i \in P'} {w_i} }$\;
	\uIf{$B(\vec{e}, \vec{b})$ is \emph{not} monochromatic}{
		\uIf{$P-P'\neq \emptyset$}{
			Send $<REQ>$ message to random node in $P-P'$ set\;
		}
		\Else{
			$\vec{e}(t)=\frac{\sum_{i=1}^n {w_i \vec{v_i}(t)}}{\sum_{i=1}^n {w_i}}$\;
			Send $<NEW\textnormal{-}EST, \vec{e}(t)>$ message to all nodes\;
			\Return \;
		}
	}
	\Else{
		\ForEach{$p_i \in P'$}{
			$\Delta\vec{\delta_i}=w_i\vec{b}-w_i\vec{u_i}(t)$\;
			Send $<ADJ\textnormal{-}SLK, \Delta\vec{\delta_i}>$ message to node $p_i$\;
			\Return \;
		}
	}

}
\caption{Centralized algorithm's coordinator node operation\label{algo:centralizedCoordinatorNode}} 
\end{algorithm}

}
\end{column}
\begin{column}{.8\linewidth}
\scalebox{0.46}{

\begin{algorithm}[H]

\setstretch{1.30}
\Begin{
	\ForEach(\tcc*[f]{Node initialization}){node $p_i$}{
		Send $<INIT,\vec{v_i}(0)>$ message to coordinator\;
		$\vec{v_i}'=\vec{v_i}(0)$\;
		$\vec{\delta_i}=\vec{0}$\;
		Wait message from coordinator\;
		\If{$<NEW\textnormal{-}EST, \vec{e}>$ message received}{
			Set $\vec{e}(t)=\vec{e}$\;
		}
	}

	\ForEach(\tcc*[f]{Main monitoring task}){node $p_i$}{
		\ForEach{new $s_i$ stream update $\vec{v_i}(t)$}{
			Recalculate $\vec{u_i}(t)=\vec{e}(t)+\Delta \vec{v_i}(t)+\frac{\vec{\delta_i}}{w_i}$\;
			\If{$B(\vec{e},\vec{u_i}(t))$ is \emph{not} monochromatic}{
				Send $<REP,\vec{v_i}(t),\vec{u_i}(t)>$ message to coordinator\;
				Wait for $<NEW\textnormal{-}EST,\cdot>$ or $<ADJ\textnormal{-}SLK,\cdot>$ message from coordinator\;
			}
		
		
			\If{new message $<REQ>$ received}{
				Send $<REP,\vec{v_i}(t),\vec{u_i}(t)>$ message to coordinator\;
				Wait for $<NEW\textnormal{-}EST,\cdot>$ or $<ADJ\textnormal{-}SLK,\cdot>$ message from coordinator\;

			}

			\If{new $<NEW\textnormal{-}EST, \vec{e}>$ message received}{
				Set $\vec{e}(t)=\vec{e}$\;
				$\vec{v_i}'=\vec{v_i}(t)$\;
				$\vec{\delta_i}=\vec{0}$\;
			} 

			\If{new $<ADJ\textnormal{-}SLK, \Delta\vec{\delta_i}>$ message received}{
				$\vec{\delta_i}=\vec{\delta_i}+\Delta\vec{\delta_i}$\;
			}

		}

	}
}
\caption{Centralized algorithm's monitoring node operation \label{algo:centralizedMonitoringNode}} 

\end{algorithm}  

}
\end{column}%
\end{columns}

\end{frame}

\subsection{Theoretical Tools}
\subsubsection*{Multi-objective Optimization}
\begin{frame} \frametitle{Multi-objective Optimization}

\end{frame}
\begin{frame} \frametitle{Non-linear Constraint Optimization}\framesubtitle{Primal Descent}

\end{frame}
%slsqp
\begin{frame} \frametitle{Feasible Directions}

\end{frame}
%conmin
\begin{frame} \frametitle{SQP}

\end{frame}
\subsubsection*{Savitzky-Golay Filtering}
\begin{frame} \frametitle{The Savitzky-Golay Filter}

\end{frame}
\subsubsection*{Matching in Graphs}
\begin{frame} \frametitle{Maximum Weight Matching}\framesubtitle{The Primal-Dual Method}

\end{frame}

\subsection{Related Work}
\begin{frame} \frametitle{Related Work}

\end{frame}
%%%%%%%%%%%%%  section: IMPL  %%%%%%%%%%%%%%%%%%%%%%%
\section{Problem Statement \& Implementation}
\subsection{Problem Statement}
\begin{frame} \frametitle{Problem Formulation}

\end{frame}
\subsection{Implementation}
\begin{frame} \frametitle{The Geometric Monitoring Framework}

\end{frame}
\subsubsection*{Distance-based Hierarchical Clustering}
\begin{frame} \frametitle{The Distance-based Hierarchical Clustering}\framesubtitle{The Idea}

\end{frame}
\begin{frame} \frametitle{The Distance-based Hierarchical Clustering}\framesubtitle{The Weight Function}

\end{frame}
\begin{frame} \frametitle{The Distance-based Hierarchical Clustering}\framesubtitle{The Algorithm}

\end{frame}
\subsubsection*{Heuristic Balancing}
\begin{frame} \frametitle{The Heuristic Balancing}\framesubtitle{The Idea}

\end{frame}
\begin{frame} \frametitle{The Heuristic Balancing}\framesubtitle{The Optimizing Function}

\end{frame}
\begin{frame} \frametitle{The Heuristic Balancing}\framesubtitle{The Function Formulation}

\end{frame}
\begin{frame} \frametitle{The Heuristic Balancing}\framesubtitle{The Algorithm}

\end{frame}
\subsubsection*{Violation Detection}
\begin{frame} \frametitle{Violation Detection in the Sphere}\frametitle{An Nested Optimization Problem}

\end{frame}
\subsubsection*{The Savitzky-Golay Filter}
\begin{frame} \frametitle{Velocity and Acceleration Estimation via SG Filtering}

\end{frame}
\subsubsection*{Challenges}
\begin{frame} \frametitle{Implementation Challenges}

\end{frame}
%%%%%%%%%%%%%  section: EXPERIMENTS  %%%%%%%%%%%%%%%%%%%%%%%
\section{Experimental Results}
\subsection{Data \& Setup}
\subsubsection*{Synthetic Data}
\begin{frame} \frametitle{Synthetic Data}

\end{frame}
\subsubsection*{Real-world Data}
\begin{frame} \frametitle{Real-world Data}

\end{frame}
\subsection{Experiments}
\begin{frame} \frametitle{Notation}

\end{frame}
\subsubsection*{ Matching Algorithms}
\begin{frame} \frametitle{RAND, DIST, DISTR Comparison}

\end{frame}
\subsubsection*{Balancing Methods}
\begin{frame} \frametitle{GM, HM Comparison}

\end{frame}
\subsubsection*{Synthetic Data}
\begin{frame} \frametitle{GM, HDM Comparison}\framesubtitle{Synthetic Data Monitoring}

\end{frame}
\subsubsection*{Real-world Data}
\begin{frame} \frametitle{GM, HDM Comparison}\framesubtitle{Air Pollution Monitoring}

\end{frame}
%%%%%%%%%%%%%  section: CONCLUSION  %%%%%%%%%%%%%%%%%%%%%%%
\section{Conclusions \& Future Work}
\subsection{Conclusion}
\begin{frame} \frametitle{Summary \& Concluding Remarks}

\end{frame}
\subsection{Future Work}
\begin{frame} \frametitle{Future Work}

\end{frame}

\begin{frame}[plain]
\centering
The end\\
Questions?
\end{frame}

\end{document}

